{"version":3,"sources":["types/types.ts","reducers/authReducer.ts","reducers/calendarReducer.ts","reducers/uiReducer.ts","reducers/rootReducer.ts","store/store.ts","helpers/fetch.ts","helpers/prepareEvents.ts","actions/events.ts","actions/ui.ts","helpers/calendar-messages-es.ts","components/ui/AddNewFab.tsx","components/ui/DeleteEventFab.tsx","actions/auth.ts","components/ui/Navbar.tsx","components/calendar/CalendarEvent.tsx","components/calendar/CalendarModal.tsx","components/calendar/CalendarScreen.tsx","hooks/useForm.ts","components/auth/LoginScreen.tsx","components/loader/Loader.tsx","router/PublicRoute.tsx","router/PrivateRoute.tsx","router/AppRouter.tsx","CalendarApp.tsx","index.tsx"],"names":["types","initialState","checking","uid","name","now","moment","minutes","seconds","add","nowPlusOneHour","clone","defaultActiveEvent","title","notes","start","toDate","end","events","activeEvent","modalOpen","rootReducer","combineReducers","auth","state","action","type","payload","calendar","map","event","filter","ui","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","baseUrl","process","fetchWithoutToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchWithToken","token","localStorage","getItem","prepareEvents","eventAddNew","eventClearActiveNote","eventUpdated","eventDeleted","eventLoader","uiOpenModal","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","AddNewFab","dispatch","useDispatch","className","onClick","DeleteEventFab","useSelector","useState","isNoteSelected","setIsNoteSelected","useEffect","hidden","getState","a","response","json","error","Swal","fire","checkingFinish","login","user","startLogout","clear","logout","Navbar","CalendarEvent","registerLocale","es","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","CalendarModal","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","formValues","setFormValues","handleInputChange","target","value","closeModal","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","onSubmit","e","preventDefault","momentStart","momentEnd","isSameOrAfter","trim","length","eventStartAddNew","selected","onChange","showTimeSelect","locale","timeFormat","timeIntervals","timeCaption","dateFormat","minDate","placeholder","autoComplete","id","rows","localizer","momentLocalizer","CalendarScreen","startAccessor","endAccessor","eventPropGetter","backgroundColor","borderRadius","opacity","display","color","onDoubleClickEvent","onSelectSlot","selectable","onSelectEvent","components","useForm","values","setValues","LoginScreen","loginEmail","loginPassword","formLoginValues","handleLoginInputChange","registerName","registerEmail","registerPassword1","registerPassword2","formRegisterValues","handleRegisterInputChange","email","password","setItem","Date","getTime","toString","Loader","PublicRoute","isAuthenticated","Component","component","rest","props","to","PrivateRoute","AppRouter","exact","path","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.92938438.chunk.js","sourcesContent":["import { Event } from \"react-big-calendar\";\r\n\r\nexport const types = {\r\n  uiOpenModal: \"[ui] Open Modal\",\r\n  uiCloseModal: \"[ui] Close Modal\",\r\n\r\n  eventStartAddNew: \"[event] Start add new\",\r\n  eventAddNew: \"[event] Add new\",\r\n  eventSetActive: \"[event] Set Active\",\r\n  eventClearActiveEvent: \"[event] Clear active event\",\r\n  eventUpdated: \"[event] Event updated\",\r\n  eventDeleted: \"[event] Event deleted\",\r\n  eventLoaded: \"[event] Events loaded\",\r\n  eventCleanup: \"[event] Events cleanup\",\r\n\r\n  authCheckingFinish: \"[auth] Finish checking login state\",\r\n  authStartLogin: \"[auth] Start login\",\r\n  authLogin: \"[auth] Login\",\r\n  authStartRegister: \"[auth] Start Register\",\r\n  authStartTokenRenew: \"[auth] Start token renew\",\r\n  authLogout: \"[auth] Logout\",\r\n};\r\n\r\nexport interface calendarCustomEvent extends Event {\r\n  bgcolor?: string;\r\n  notes?: string;\r\n  uid?: string | null;\r\n  user?: {\r\n    uid: string | null;\r\n    name: string | null;\r\n  };\r\n}\r\n\r\nexport interface State {\r\n  ui: {\r\n    modalOpen: boolean;\r\n  };\r\n  calendar: {\r\n    events: calendarCustomEvent[];\r\n    activeEvent: calendarCustomEvent;\r\n  };\r\n  auth: {\r\n    checking: boolean;\r\n    uid: string | null;\r\n    name: string | null;\r\n  };\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { types } from \"../types/types\";\r\n\r\nexport interface AuthState {\r\n  checking: boolean;\r\n  uid: string | null;\r\n  name: string | null;\r\n}\r\n\r\nconst initialState: AuthState = {\r\n  checking: true,\r\n  uid: null,\r\n  name: null,\r\n};\r\n\r\nexport const AuthReducer = (state = initialState, action: AnyAction) => {\r\n  switch (action.type) {\r\n    case types.authLogin:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        checking: false,\r\n      };\r\n    case types.authCheckingFinish:\r\n      return {\r\n        ...state,\r\n        checking: false,\r\n      };\r\n    case types.authLogout:\r\n      return {\r\n        checking: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { AnyAction } from \"redux\";\r\nimport moment from \"moment\";\r\n\r\n// {\r\n//   title: \"Cumpleaños del jefe\",\r\n//   start: moment().toDate(),\r\n//   end: moment().add(2, \"hours\").toDate(),\r\n//   bgcolor: \"#fafafa\",\r\n//   notes: \"Comprar el pastel\",\r\n//   uid: new Date().getTime(),\r\n//   user: {\r\n//     uid: \"123\",\r\n//     name: \"Gordex\",\r\n//   },\r\n// },\r\n\r\nimport { calendarCustomEvent, types } from \"../types/types\";\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\");\r\nconst nowPlusOneHour = now.clone().add(1, \"hours\");\r\n\r\nexport const defaultActiveEvent: calendarCustomEvent = {\r\n  title: \"\",\r\n  notes: \"\",\r\n  start: now.toDate(),\r\n  end: nowPlusOneHour.toDate(),\r\n};\r\n\r\ninterface CalendarState {\r\n  events: calendarCustomEvent[];\r\n  activeEvent: calendarCustomEvent;\r\n}\r\n\r\nconst initialState: CalendarState = {\r\n  events: [],\r\n  activeEvent: defaultActiveEvent,\r\n};\r\n\r\nexport const calendarReducer = (state = initialState, action: AnyAction) => {\r\n  switch (action.type) {\r\n    case types.eventSetActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: action.payload,\r\n      };\r\n    case types.eventAddNew:\r\n      return {\r\n        ...state,\r\n        events: [...state.events, action.payload],\r\n      };\r\n    case types.eventClearActiveEvent:\r\n      return {\r\n        ...state,\r\n        activeEvent: defaultActiveEvent,\r\n      };\r\n    case types.eventUpdated:\r\n      return {\r\n        ...state,\r\n        events: state.events.map((event) =>\r\n          event.uid === action.payload.uid ? action.payload : event\r\n        ),\r\n      };\r\n    case types.eventDeleted:\r\n      return {\r\n        ...state,\r\n        events: state.events.filter(\r\n          (event) => event.uid !== state.activeEvent.uid\r\n        ),\r\n        activeEvent: defaultActiveEvent,\r\n      };\r\n    case types.eventLoaded:\r\n      return {\r\n        ...state,\r\n        events: [...action.payload],\r\n      };\r\n    case types.eventCleanup:\r\n      return {\r\n        ...initialState,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { types } from \"../types/types\";\r\n\r\nexport interface UiState {\r\n  modalOpen: boolean;\r\n}\r\n\r\nconst initialState: UiState = {\r\n  modalOpen: false,\r\n};\r\n\r\nexport const uiReducer = (state = initialState, action: AnyAction) => {\r\n  switch (action.type) {\r\n    case types.uiOpenModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: true,\r\n      };\r\n    case types.uiCloseModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport { AuthReducer } from \"./authReducer\";\r\nimport { calendarReducer } from \"./calendarReducer\";\r\nimport { uiReducer } from \"./uiReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  auth: AuthReducer,\r\n  calendar: calendarReducer,\r\n  ui: uiReducer,\r\n});\r\n","import { applyMiddleware, createStore, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport { rootReducer } from \"../reducers/rootReducer\";\r\n\r\nexport const composeEnhancers =\r\n  (window && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","const baseUrl = process.env.REACT_APP_API_URL;\r\n\r\ntype Method = \"GET\" | \"POST\" | \"PUT\" | \"DELETE\";\r\n\r\nexport const fetchWithoutToken = (\r\n  endpoint: string,\r\n  data: object = {},\r\n  method: Method = \"GET\"\r\n) => {\r\n  const url = `${baseUrl}/${endpoint}`;\r\n  if (method === \"GET\") {\r\n    return fetch(url);\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchWithToken = (\r\n  endpoint: string,\r\n  data: object = {},\r\n  method: Method = \"GET\"\r\n) => {\r\n  const url = `${baseUrl}/${endpoint}`;\r\n  const token = localStorage.getItem(\"token\") || \"\";\r\n  if (method === \"GET\") {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"x-token\": token,\r\n      },\r\n    });\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        \"x-token\": token,\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\n","import moment from \"moment\";\r\n\r\nimport { calendarCustomEvent } from \"../types/types\";\r\n\r\nexport const prepareEvents = (\r\n  events: calendarCustomEvent[],\r\n) => {\r\n  return events.map((event: calendarCustomEvent) => ({\r\n    ...event,\r\n    end: moment(event.end).toDate(),\r\n    start: moment(event.start).toDate(),\r\n  }));\r\n};\r\n","import Swal from \"sweetalert2\";\r\nimport { fetchWithToken } from \"../helpers/fetch\";\r\nimport { prepareEvents } from \"../helpers/prepareEvents\";\r\nimport { calendarCustomEvent, State, types } from \"../types/types\";\r\n\r\nexport const eventStartAddNew = (event: calendarCustomEvent) => {\r\n  return async (dispatch: any, getState: () => State) => {\r\n    const { uid, name } = getState().auth;\r\n    try {\r\n      const response = await fetchWithToken(\"events\", event, \"POST\");\r\n      const { body, error } = await response.json();\r\n      if (body) {\r\n        event.uid = body.uid;\r\n        event.user = {\r\n          uid: uid!,\r\n          name: name!,\r\n        };\r\n        dispatch(eventAddNew(event));\r\n      }\r\n      if (error) {\r\n        Swal.fire(\"Error\", error, \"error\");\r\n      }\r\n    } catch (err) {\r\n      Swal.fire(\"Error\", \"Error de red\", \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nconst eventAddNew = (event: calendarCustomEvent) => ({\r\n  type: types.eventAddNew,\r\n  payload: event,\r\n});\r\n\r\nexport const eventSetActive = (event: calendarCustomEvent) => ({\r\n  type: types.eventSetActive,\r\n  payload: event,\r\n});\r\n\r\nexport const eventClearActiveNote = () => ({\r\n  type: types.eventClearActiveEvent,\r\n});\r\n\r\nexport const evenStartUpdate = (event: calendarCustomEvent) => {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      const response = await fetchWithToken(\r\n        `events/${event.uid}`,\r\n        event,\r\n        \"PUT\"\r\n      );\r\n      const { body, error } = await response.json();\r\n      if (body) {\r\n        dispatch(eventUpdated(event));\r\n      }\r\n      if (error) {\r\n        Swal.fire(\"Error\", error, \"error\");\r\n      }\r\n    } catch (err) {\r\n      Swal.fire(\"Error\", \"Error de red\", \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nconst eventUpdated = (event: calendarCustomEvent) => ({\r\n  type: types.eventUpdated,\r\n  payload: event,\r\n});\r\n\r\nexport const eventStartDelete = () => {\r\n  return async (dispatch: any, getState: () => State) => {\r\n    const { uid } = getState().calendar.activeEvent;\r\n    try {\r\n      const response = await fetchWithToken(`events/${uid}`, {}, \"DELETE\");\r\n      const { body, error } = await response.json();\r\n      if (body) {\r\n        dispatch(eventDeleted());\r\n      }\r\n      if (error) {\r\n        Swal.fire(\"Error\", error, \"error\");\r\n      }\r\n    } catch (err) {\r\n      Swal.fire(\"Error\", \"Error de red\", \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nconst eventDeleted = () => ({ type: types.eventDeleted });\r\n\r\nexport const eventStartLoading = () => {\r\n  return async (dispatch: any) => {\r\n    try {\r\n      const response = await fetchWithToken(\"events\");\r\n      const { body, error } = await response.json();\r\n      if (body) {\r\n        const events = prepareEvents(body);\r\n        dispatch(eventLoader(events));\r\n      }\r\n      if (error) {\r\n        Swal.fire(\"Error\", error, \"error\");\r\n      }\r\n    } catch (err) {\r\n      Swal.fire(\"Error\", \"Error de red\", \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nconst eventLoader = (events: calendarCustomEvent[]) => ({\r\n  type: types.eventLoaded,\r\n  payload: events,\r\n});\r\n\r\nexport const eventCleanup = () => ({ type: types.eventCleanup });\r\n","import { types } from \"../types/types\";\r\n\r\nexport const uiOpenModal = () => ({ type: types.uiOpenModal });\r\nexport const uiCloseModal = () => ({ type: types.uiCloseModal });\r\n","export const messages = {\r\n  allDay: \"Todo el día\",\r\n  previous: \"<\",\r\n  next: \">\",\r\n  today: \"Hoy\",\r\n  month: \"Mes\",\r\n  week: \"Semana\",\r\n  day: \"Día\",\r\n  agenda: \"Agenda\",\r\n  date: \"Fecha\",\r\n  time: \"Hora\",\r\n  event: \"Evento\",\r\n  noEventsInRange: \"No hay eventos en este rango\",\r\n  showMore: (total: any) => `+ Ver más (${total})`,\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { uiOpenModal } from \"../../actions/ui\";\r\n\r\nexport const AddNewFab: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const handleClick: React.MouseEventHandler<HTMLButtonElement> = () => {\r\n    dispatch(uiOpenModal());\r\n  };\r\n\r\n  return (\r\n    <button className=\"btn btn-primary fab\" onClick={handleClick}>\r\n      <i className=\"fas fa-plus\"></i>\r\n    </button>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { eventStartDelete } from \"../../actions/events\";\r\n\r\nimport { State } from \"../../types/types\";\r\n\r\nexport const DeleteEventFab: React.FC = () => {\r\n  const { activeEvent } = useSelector((state: State) => state.calendar);\r\n  const [isNoteSelected, setIsNoteSelected] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (activeEvent.uid) {\r\n      setIsNoteSelected(true);\r\n    } else {\r\n      setIsNoteSelected(false);\r\n    }\r\n  }, [activeEvent]);\r\n\r\n  const handleClick = () => {\r\n    dispatch(eventStartDelete());\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className=\"btn btn-danger fab-danger animate__animated animate__fadeIn animate__faster\"\r\n      hidden={!isNoteSelected}\r\n      onClick={handleClick}\r\n    >\r\n      <i className=\"fas fa-trash\"></i>\r\n      <span> Borrar evento </span>\r\n    </button>\r\n  );\r\n};\r\n","import Swal from \"sweetalert2\";\r\n\r\nimport { fetchWithoutToken, fetchWithToken } from \"../helpers/fetch\";\r\nimport { types } from \"../types/types\";\r\nimport { eventCleanup } from \"./events\";\r\n\r\nexport const startLogin = (email: string, password: string) => {\r\n  return async (dispatch: any) => {\r\n    const response = await fetchWithoutToken(\r\n      \"auth/login\",\r\n      {\r\n        email,\r\n        password,\r\n      },\r\n      \"POST\"\r\n    );\r\n    const { body, error } = await response.json();\r\n\r\n    // Guardar el token en el local storage\r\n    if (body) {\r\n      localStorage.setItem(\"token\", body.token);\r\n      // Guardar la fecha en que el token se \"creó\"\r\n      localStorage.setItem(\"token-init-date\", new Date().getTime().toString());\r\n      dispatch(\r\n        login({\r\n          uid: body.uid,\r\n          name: body.name,\r\n        })\r\n      );\r\n    }\r\n    if (error) {\r\n      Swal.fire(\"Error\", error, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startRegister = (\r\n  name: string,\r\n  email: string,\r\n  password: string\r\n) => {\r\n  return async (dispatch: any) => {\r\n    const response = await fetchWithoutToken(\r\n      \"auth/register\",\r\n      {\r\n        name,\r\n        email,\r\n        password,\r\n      },\r\n      \"POST\"\r\n    );\r\n    const { body, error } = await response.json();\r\n    if (body) {\r\n      localStorage.setItem(\"token\", body.token);\r\n      localStorage.setItem(\"token-init-date\", new Date().getTime().toString());\r\n      dispatch(\r\n        login({\r\n          uid: body.uid,\r\n          name: body.name,\r\n        })\r\n      );\r\n    }\r\n    if (error) {\r\n      Swal.fire(\"Error\", error, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startChecking = () => {\r\n  return async (dispatch: any) => {\r\n    const response = await fetchWithToken(\"auth/renew\");\r\n    const { body, error } = await response.json();\r\n    if (body) {\r\n      localStorage.setItem(\"token\", body.token);\r\n      localStorage.setItem(\"token-init-date\", new Date().getTime().toString());\r\n      dispatch(\r\n        login({\r\n          uid: body.uid,\r\n          name: body.name,\r\n        })\r\n      );\r\n    }\r\n    if (error) {\r\n      dispatch(checkingFinish());\r\n    }\r\n  };\r\n};\r\n\r\nconst checkingFinish = () => ({ type: types.authCheckingFinish });\r\n\r\nconst login = (user: object) => ({\r\n  type: types.authLogin,\r\n  payload: user,\r\n});\r\n\r\nexport const startLogout = () => {\r\n  return (dispatch: any) => {\r\n    localStorage.clear();\r\n    dispatch(eventCleanup());\r\n    dispatch(logout());\r\n  };\r\n};\r\n\r\nexport const logout = () => ({ type: types.authLogout });\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { startLogout } from \"../../actions/auth\";\r\nimport { State } from \"../../types/types\";\r\n\r\n\r\nexport const Navbar: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { name } = useSelector((state: State) => state.auth);\r\n\r\n  const handleLogout: React.MouseEventHandler<HTMLButtonElement> = () => {\r\n    dispatch(startLogout());\r\n  };\r\n\r\n  return (\r\n    <div className=\"navbar navbar-dark bg-dark mb-4\">\r\n      <span className=\"navbar-brand\">{name}</span>\r\n      <button className=\"btn btn-outline-danger\" onClick={handleLogout}>\r\n        <i className=\"fas fa-sign-out-alt\"></i>\r\n        <span> Salir</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport { calendarCustomEvent } from \"../../types/types\";\r\n\r\n\r\ninterface ICalendarEvent {\r\n  event: calendarCustomEvent;\r\n}\r\n\r\nexport const CalendarEvent: React.FC<ICalendarEvent> = ({ event }) => {\r\n  const { title, user } = event;\r\n\r\n  return (\r\n    <div>\r\n      <strong>{title}</strong>\r\n      <span>- {user?.name}</span>\r\n    </div>\r\n  );\r\n};\r\n","import es from \"date-fns/locale/es\";\r\nimport moment from \"moment\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport DatePicker, { registerLocale } from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Modal from \"react-modal\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport {\r\n  eventStartAddNew,\r\n  eventClearActiveNote,\r\n  evenStartUpdate,\r\n} from \"../../actions/events\";\r\nimport { uiCloseModal } from \"../../actions/ui\";\r\nimport { defaultActiveEvent } from \"../../reducers/calendarReducer\";\r\nimport { State } from \"../../types/types\";\r\n\r\nregisterLocale(\"es\", es);\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\");\r\nconst nowPlusOneHour = now.clone().add(1, \"hours\");\r\n\r\nexport const CalendarModal: React.FC = () => {\r\n  const [dateStart, setDateStart] = useState(now.toDate());\r\n  const [dateEnd, setDateEnd] = useState(nowPlusOneHour.toDate());\r\n  const [titleValid, setTitleValid] = useState(true);\r\n  const dispatch = useDispatch();\r\n  const { modalOpen } = useSelector((state: State) => state.ui);\r\n  const { activeEvent } = useSelector((state: State) => state.calendar);\r\n\r\n  const [formValues, setFormValues] = useState(defaultActiveEvent);\r\n\r\n  const { notes, title, start, end } = formValues;\r\n\r\n  useEffect(() => {\r\n    if (activeEvent) {\r\n      setFormValues(activeEvent);\r\n    } else {\r\n      setFormValues(defaultActiveEvent);\r\n    }\r\n  }, [activeEvent]);\r\n\r\n  const handleInputChange: React.ChangeEventHandler<\r\n    HTMLInputElement | HTMLTextAreaElement\r\n  > = ({ target }) => {\r\n    setFormValues({\r\n      ...formValues,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  const handleStartDateChange = (date: Date) => {\r\n    setDateStart(date);\r\n    setFormValues({\r\n      ...formValues,\r\n      start: date,\r\n    });\r\n  };\r\n\r\n  const handleEndDateChange = (date: Date) => {\r\n    setDateEnd(date);\r\n    setFormValues({\r\n      ...formValues,\r\n      end: date,\r\n    });\r\n  };\r\n\r\n  const handleSubmitForm: React.FormEventHandler<HTMLFormElement> = (e) => {\r\n    e.preventDefault();\r\n\r\n    const momentStart = moment(start);\r\n    const momentEnd = moment(end);\r\n\r\n    if (momentStart.isSameOrAfter(momentEnd)) {\r\n      Swal.fire(\r\n        \"Error\",\r\n        \"La fecha de fin debe ser mayor a la fecha de inicio\",\r\n        \"error\"\r\n      );\r\n      return;\r\n    }\r\n    if (title!.trim().length < 2) {\r\n      return setTitleValid(false);\r\n    }\r\n    // TODO: Id no temporal\r\n\r\n    if (activeEvent.uid) {\r\n      dispatch(evenStartUpdate(formValues));\r\n    } else {\r\n      dispatch(eventStartAddNew(formValues));\r\n    }\r\n\r\n    setTitleValid(true);\r\n    closeModal();\r\n  };\r\n\r\n  const closeModal = () => {\r\n    dispatch(uiCloseModal());\r\n    dispatch(eventClearActiveNote());\r\n    setFormValues(defaultActiveEvent);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={modalOpen}\r\n      //   onAfterOpen={afterOpenModal}\r\n      onRequestClose={closeModal}\r\n      style={customStyles}\r\n      closeTimeoutMS={200}\r\n      className=\"modal\"\r\n      overlayClassName=\"modal-fondo\"\r\n    >\r\n      <h1> {activeEvent.uid ? \"Editar Evento\" : \"Nuevo evento\"} </h1>\r\n      <hr />\r\n      <form className=\"container\" onSubmit={handleSubmitForm}>\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora inicio</label>\r\n          <div>\r\n            <DatePicker\r\n              className=\"form-control\"\r\n              selected={dateStart}\r\n              onChange={handleStartDateChange}\r\n              showTimeSelect\r\n              locale=\"es\"\r\n              timeFormat=\"HH:mm\"\r\n              timeIntervals={30}\r\n              timeCaption=\"time\"\r\n              dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Fecha y hora fin</label>\r\n          <div>\r\n            <DatePicker\r\n              className=\"form-control\"\r\n              selected={dateEnd}\r\n              onChange={handleEndDateChange}\r\n              showTimeSelect\r\n              locale=\"es\"\r\n              timeFormat=\"HH:mm\"\r\n              minDate={dateStart}\r\n              timeIntervals={15}\r\n              timeCaption=\"time\"\r\n              dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <hr />\r\n        <div className=\"form-group\">\r\n          <label>Titulo y notas</label>\r\n          <input\r\n            type=\"text\"\r\n            className={`form-control ${!titleValid && \"is-invalid\"} `}\r\n            placeholder=\"Título del evento\"\r\n            name=\"title\"\r\n            autoComplete=\"off\"\r\n            value={title}\r\n            onChange={handleInputChange}\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            Una descripción corta\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <textarea\r\n            className=\"form-control\"\r\n            placeholder=\"Notas\"\r\n            rows={5}\r\n            name=\"notes\"\r\n            value={notes}\r\n            onChange={handleInputChange}\r\n          ></textarea>\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            Información adicional\r\n          </small>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"far fa-save\"></i>\r\n          <span> Guardar</span>\r\n        </button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Calendar, EventPropGetter, momentLocalizer } from \"react-big-calendar\";\r\nimport CSS from \"csstype\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es-mx\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport {\r\n  eventClearActiveNote,\r\n  eventSetActive,\r\n  eventStartLoading,\r\n} from \"../../actions/events\";\r\nimport { uiOpenModal } from \"../../actions/ui\";\r\nimport { messages } from \"../../helpers/calendar-messages-es\";\r\nimport { calendarCustomEvent, State } from \"../../types/types\";\r\nimport { AddNewFab } from \"../ui/AddNewFab\";\r\nimport { DeleteEventFab } from \"../ui/DeleteEventFab\";\r\nimport { Navbar } from \"../ui/Navbar\";\r\nimport { CalendarEvent } from \"./CalendarEvent\";\r\nimport { CalendarModal } from \"./CalendarModal\";\r\n\r\nmoment.locale(\"es\");\r\nconst localizer = momentLocalizer(moment);\r\n\r\nexport const CalendarScreen: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { events } = useSelector((state: State) => state.calendar);\r\n  const { uid } = useSelector((state: State) => state.auth);\r\n\r\n  useEffect(() => {\r\n    dispatch(eventStartLoading());\r\n  }, [dispatch]);\r\n\r\n  const onDoubleClick = () => {\r\n    dispatch(uiOpenModal());\r\n  };\r\n\r\n  const onSelectEvent = (e: calendarCustomEvent) => {\r\n    dispatch(eventSetActive(e));\r\n  };\r\n\r\n  const onSelectSlot = () => {\r\n    dispatch(eventClearActiveNote());\r\n  };\r\n\r\n  const eventStyleGetter: EventPropGetter<calendarCustomEvent> = (\r\n    event: calendarCustomEvent\r\n  ) => {\r\n    const style: CSS.Properties = {\r\n      backgroundColor: uid === event.user?.uid ? \"#367cf7\" : \"#465660\",\r\n      borderRadius: \"0px\",\r\n      opacity: 0.8,\r\n      display: \"block\",\r\n      color: \"white\",\r\n    };\r\n    return {\r\n      style,\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"calendar-screen\">\r\n      <Navbar />\r\n\r\n      <Calendar\r\n        localizer={localizer}\r\n        events={events}\r\n        startAccessor=\"start\"\r\n        endAccessor=\"end\"\r\n        messages={messages}\r\n        eventPropGetter={eventStyleGetter}\r\n        onDoubleClickEvent={onDoubleClick}\r\n        onSelectSlot={onSelectSlot}\r\n        selectable={true}\r\n        onSelectEvent={onSelectEvent}\r\n        components={{\r\n          event: CalendarEvent,\r\n        }}\r\n      />\r\n\r\n      <AddNewFab />\r\n      <DeleteEventFab />\r\n      <CalendarModal />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nexport const useForm = (initialState: {}) => {\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  const reset: any = () => {\r\n    setValues(initialState);\r\n  };\r\n\r\n  const handleInputChange: any = (\r\n    event: React.ChangeEvent<HTMLInputElement>\r\n  ) => {\r\n    setValues({\r\n      ...values,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  return [values, handleInputChange, reset];\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport { startLogin, startRegister } from \"../../actions/auth\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport \"./login.css\";\r\n\r\ninterface LoginInput {\r\n  loginEmail: string;\r\n  loginPassword: string;\r\n}\r\n\r\ninterface RegisterInput {\r\n  registerName: string;\r\n  registerEmail: string;\r\n  registerPassword1: string;\r\n  registerPassword2: string;\r\n}\r\n\r\nexport const LoginScreen: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [formLoginValues, handleLoginInputChange] = useForm({\r\n    loginEmail: \"\",\r\n    loginPassword: \"\",\r\n  });\r\n\r\n  const [formRegisterValues, handleRegisterInputChange] = useForm({\r\n    registerName: \"\",\r\n    registerEmail: \"\",\r\n    registerPassword1: \"\",\r\n    registerPassword2: \"\",\r\n  });\r\n\r\n  const { loginEmail, loginPassword } = formLoginValues as LoginInput;\r\n\r\n  const {\r\n    registerName,\r\n    registerEmail,\r\n    registerPassword1,\r\n    registerPassword2,\r\n  } = formRegisterValues as RegisterInput;\r\n\r\n  const handleLogin = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    dispatch(startLogin(loginEmail, loginPassword));\r\n  };\r\n\r\n  const handleRegister = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (registerPassword1 !== registerPassword2) {\r\n      return Swal.fire(\r\n        \"Error\",\r\n        \"Las contraseñas tienen que ser iguales\",\r\n        \"error\"\r\n      );\r\n    }\r\n    dispatch(startRegister(registerName, registerEmail, registerPassword1));\r\n  };\r\n\r\n  return (\r\n    <div className=\"container login-container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 login-form-1\">\r\n          <h3>Ingreso</h3>\r\n          <form onSubmit={handleLogin}>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Correo\"\r\n                name=\"loginEmail\"\r\n                value={loginEmail}\r\n                onChange={handleLoginInputChange}\r\n                autoComplete=\"off\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Contraseña\"\r\n                name=\"loginPassword\"\r\n                value={loginPassword}\r\n                onChange={handleLoginInputChange}\r\n                autoComplete=\"off\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Login\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"col-md-6 login-form-2\">\r\n          <h3>Registro</h3>\r\n          <form onSubmit={handleRegister}>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Nombre\"\r\n                name=\"registerName\"\r\n                value={registerName}\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                placeholder=\"Correo\"\r\n                name=\"registerEmail\"\r\n                value={registerEmail}\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Contraseña\"\r\n                name=\"registerPassword1\"\r\n                value={registerPassword1}\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Repita la contraseña\"\r\n                name=\"registerPassword2\"\r\n                value={registerPassword2}\r\n                onChange={handleRegisterInputChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Crear cuenta\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./loader.css\";\r\n\r\nexport const Loader: React.FC = () => {\r\n  return <div className=\"loader\">Loading...</div>;\r\n};\r\n","import React from \"react\";\r\n\r\nimport { Redirect, Route } from \"react-router\";\r\n\r\ninterface IPublicRoute {\r\n  exact: boolean;\r\n  path: string;\r\n  isAuthenticated: boolean;\r\n  component: React.FC;\r\n}\r\n\r\nexport const PublicRoute: React.FC<IPublicRoute> = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props: any) =>\r\n        isAuthenticated ? <Redirect to=\"/\" /> : <Component {...props} />\r\n      }\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\ninterface IPrivateRoute {\r\n  exact: boolean;\r\n  path: string;\r\n  isAuthenticated: boolean;\r\n  component: React.FC;\r\n}\r\n\r\nexport const PrivateRoute: React.FC<IPrivateRoute> = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props: any) =>\r\n        isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Redirect, Switch } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { CalendarScreen } from \"../components/calendar/CalendarScreen\";\r\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\r\nimport { startChecking } from \"../actions/auth\";\r\nimport { State } from \"../types/types\";\r\nimport { Loader } from \"../components/loader/Loader\";\r\nimport { PublicRoute } from \"./PublicRoute\";\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\n\r\nexport const AppRouter: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { checking, uid } = useSelector((state: State) => state.auth);\r\n  useEffect(() => {\r\n    dispatch(startChecking());\r\n  }, [dispatch]);\r\n\r\n  if (checking) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n          <PublicRoute\r\n            exact\r\n            path=\"/login\"\r\n            component={LoginScreen}\r\n            // Doble negación, si existe true, si no falso, dado que sería null\r\n            isAuthenticated={!!uid}\r\n          />\r\n          <PrivateRoute\r\n            exact\r\n            path=\"/\"\r\n            component={CalendarScreen}\r\n            isAuthenticated={!!uid}\r\n          />\r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport { store } from \"./store/store\";\r\nimport { AppRouter } from \"./router/AppRouter\";\r\n\r\nexport const CalendarApp: React.FC = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <AppRouter />\r\n    </Provider>\r\n  );\r\n};\r\n","import ReactDOM from \"react-dom\";\nimport { CalendarApp } from \"./CalendarApp\";\n\nimport \"./styles.css\";\n\nReactDOM.render(<CalendarApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}